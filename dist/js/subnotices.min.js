(function(b){var g,c;0===b(".subnotices").length&&b("body").prepend('<div class="subnotices"></div>');this.subnotify=function(a){var d,e,b,f,h,k;k=null!=(e=a.type)?e:"info";e=null!=(b=a.text)?b:"";b=null!=(f=a.time)?f:1E4;f=null!=(d=a.title)?d:"";d=null!=(h=a.browserNotice)?h:!1;a=new c("<div class='subnotice subnotice_"+k+"'> <div class='subnotice-text'>"+e+"</div> <div class='subnotice-close'></div> </div>",a.container);a.destroy(b);d&&new g({title:f,text:e});return a};c=function(a,d){this.el=b(a);
this.el.data("Subnotice",this);this.wrapperEl=d||b(".subnotices").first();this.isActive=!0;this.wrapperEl.hasClass("subnotices")||this.wrapperEl.find(".subnotices").first();this.append();this.attachEvents();return this};c.prototype.append=function(){this.el.prependTo(this.wrapperEl);return setTimeout(function(a){return function(){return a.reveal()}}(this),200)};c.prototype.reveal=function(){return this.el.addClass("show")};c.prototype.attachEvents=function(){return this.el.children(".subnotice-close").on("click",
function(a){return function(){return a.destroy(0)}}(this))};c.prototype.destroy=function(a){if(!1!==a)return setTimeout(function(a){return function(){a.el.removeClass("show");a.el.remove();return a.isActive=!1}}(this),a)};g=function(a){this.title=a.title;this.text=a.text;return"undefined"===typeof Notification||null===Notification?this:"granted"===Notification.permission?this.reveal():Notification.requestPermission().then(function(a){return function(b){if("granted"===b)return a.reveal()}}(this))};
g.prototype.reveal=function(){return this.notice=new Notification(this.title,{body:this.text})};b(window).on("click",".subnotice-close",function(){return b(this).parent().data("Subnotice").destroy(0)})})(jQuery);
